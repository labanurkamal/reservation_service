# üçΩÔ∏è Reservation API

![Python](https://img.shields.io/badge/Python-3.10-blue)
![FastAPI](https://img.shields.io/badge/FastAPI-0.115.12-green)
![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0.40-blue)
![dependency--injector](https://img.shields.io/badge/dependency_injector-4.46.0-blue)
![pytest](https://img.shields.io/badge/pytest-8.3.5-blue)
![PostgreSQL](https://img.shields.io/badge/PostgreSQL-16-blue)
![Docker](https://img.shields.io/badge/Docker-Compose-blue)
![License](https://img.shields.io/badge/License-MIT-yellow)

**Reservation API** ‚Äî —ç—Ç–æ REST API –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–∏–∫–æ–≤ –≤ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–µ. –°–µ—Ä–≤–∏—Å –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –±—Ä–æ–Ω–∏, –∞ —Ç–∞–∫–∂–µ —É–ø—Ä–∞–≤–ª—è—Ç—å —Å—Ç–æ–ª–∏–∫–∞–º–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Å—Ç–æ–ª–∏–∫–∞.

---

## üìå –û –ø—Ä–æ–µ–∫—Ç–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è API-—Å–µ—Ä–≤–∏—Å–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–æ–ª–∏–∫–æ–≤. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç:

- **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö**: –°—Ç–æ–ª–∏–∫–∏ (`Table`) –∏ –±—Ä–æ–Ω–∏ (`Reservation`).
- **API-–º–µ—Ç–æ–¥—ã**: CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å—Ç–æ–ª–æ–≤ –∏ –±—Ä–æ–Ω–µ–π.
- **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å—Ç–æ–ª–∏–∫–∞–º.
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: FastAPI, SQLAlchemy, PostgreSQL, Alembic, Docker, pytest.

---

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ú–æ–¥–µ–ª–∏

- **Table** (–°—Ç–æ–ª–∏–∫):
  - `id`: int (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
  - `name`: str (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Table 1")
  - `seats`: int (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç)
  - `location`: str (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–∑–∞–ª —É –æ–∫–Ω–∞")

- **Reservation** (–ë—Ä–æ–Ω—å):
  - `id`: int (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä)
  - `customer_name`: str (–∏–º—è –∫–ª–∏–µ–Ω—Ç–∞)
  - `table_id`: int (–≤–Ω–µ—à–Ω–∏–π –∫–ª—é—á –Ω–∞ `Table`)
  - `reservation_time`: datetime (–≤—Ä–µ–º—è –±—Ä–æ–Ω–∏)
  - `duration_minutes`: int (–¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö)

### API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞**
  - `GET /api/v1/healthcheck/` ‚Äî –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.
- **–°—Ç–æ–ª–∏–∫–∏**:
  - `GET /api/v1/tables/reservations/` ‚Äî –°–ø–∏—Å–æ–∫ —Å—Ç–æ–ª–∏–∫–æ–≤ —Å –±—Ä–æ–Ω—è–º–∏.
  - `GET /api/v1/tables/` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å—Ç–æ–ª–æ–≤.
  - `POST /api/v1/tables/` ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç–æ–ª–∏–∫.
  - `DELETE /api/v1/tables/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å —Å—Ç–æ–ª–∏–∫ –ø–æ ID.
- **–ë—Ä–æ–Ω–∏**:
  - `GET /api/v1/reservations/` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –±—Ä–æ–Ω–µ–π.
  - `POST /api/v1/reservations/` ‚Äî —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –±—Ä–æ–Ω—å (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤).
  - `DELETE /api/v1/reservations/{id}` ‚Äî —É–¥–∞–ª–∏—Ç—å –±—Ä–æ–Ω—å –ø–æ ID.

### –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
- –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å –±—Ä–æ–Ω—å, –µ—Å–ª–∏ —Å—Ç–æ–ª–∏–∫ –∑–∞–Ω—è—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç (–ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏ `table_id`).
- –í–∞–ª–∏–¥–∞—Ü–∏–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ API —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –ø–æ–Ω—è—Ç–Ω—ã—Ö –æ—à–∏–±–æ–∫ (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTTP 400 –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ).


## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker
- Docker Compose

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**:

```bash
git clone git@github.com:labanurkamal/reservation_service.git
cd reservation_service
```

2. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è**:

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env.example`:
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env_test` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ `.env_test.example`:

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**:

```bash
cd deploy
docker-compose up --build -d
```

–≠—Ç–æ —Å–æ–±–µ—Ä–µ—Ç –æ–±—Ä–∞–∑—ã –∏ –∑–∞–ø—É—Å—Ç–∏—Ç –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Ç–∞–∫ –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö.

4. **–î–æ—Å—Ç—É–ø –∫ API**:
   - API endpoint: http://localhost:8000
   - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger UI: http://localhost:8000/api/openapi


## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏. –¢–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ —Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ç–µ—Å—Ç–æ–≤–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤**:

```bash
docker compose -f docker-compose-reservation-test.yaml up --build -d
```